import sys
sys.stdin = open("14500_input.txt")
input = sys.stdin.readline

tetro = [
    # ㅡ , ㅣ
    [(0, 0), (0, 1), (0, 2), (0, 3)],
    [(0, 0), (1, 0), (2, 0), (3, 0)],
    # ㅁ
    [(0, 0), (0, 1), (1, 0), (1, 1)],
    # ㄴ
    [(0, 0), (1, 0), (1, 1), (1, 2)],
    [(0, 0), (0, 1), (1, 0), (2, 0)],
    [(0, 0), (0, 1), (0, 2), (1, 2)],
    [(0, 0), (0, 1), (-1, 1), (-2, 1)],
    [(0, 0), (0, 1), (0, 2), (1, 0)],
    [(0, 0), (0, 1), (1, 1), (2, 1)],
    [(0, 0), (0, 1), (0, 2), (-1, 2)],
    [(0, 0), (1, 0), (2, 0), (2, 1)],
    # ㄹ
    [(0, 0), (1, 0), (1, -1), (2, -1)],
    [(0, 0), (0, 1), (1, 1), (1, 2)],
    [(0, 0), (1, 0), (1, 1), (2, 1)],
    [(0, 0), (0, 1), (-1, 1), (-1, 2)],
    # ㅏ
    [(0, 0), (1, 0), (1, 1), (2, 0)],
    [(0, 0), (0, 1), (0, 2), (-1, 1)],
    [(0, 0), (1, 0), (2, 0), (1, -1)],
    [(0, 0), (0, 1), (0, 2), (1, 1)]
]

# main
N, M = map(int, input().split())
A = [list(map(int, input().split())) for _ in range(N)]
MAX = 0
for i in range(N):
    for j in range(M):
        for tt in tetro:
            temp = 0
            for dr, dc in tt:
                nr = i + dr
                nc = j + dc
                if not (0 <= nr < N and 0 <= nc < M):
                    break
                temp += A[nr][nc]
            MAX = max(MAX, temp)
print(MAX)